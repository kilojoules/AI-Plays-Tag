# Pixi environment for AI Tag Game (open-source only)

[project]
name = "ai-tag-game"
channels = ["conda-forge", "pytorch"]
platforms = ["osx-64", "osx-arm64", "linux-64", "win-64"]

[feature.server.dependencies]
python = "3.11.*"
websockets = "*"
numpy = ">=1.24,<2.0"
matplotlib = "*"
ffmpeg = "*"

[feature.rl.dependencies]
pytorch = ">=2.2"

[environments]
default = { features = ["server"] }
train = { features = ["server", "rl"] }

[tasks]
server = "python trainer/server.py"
plot = "python trainer/plot_metrics.py"
tests = "bash scripts/run_godot_tests.sh"
collect-debug = "bash scripts/collect_debug_artifacts.sh"
selfplay-train = "bash scripts/train.sh self-play"
plot-paths = "python scripts/plot_paths_from_trajectory.py"
eval-episode = "bash scripts/eval_episode.sh"
migrate-user-data = "bash scripts/migrate_user_data.sh"
monitor = "python trainer/monitor_runs.py"
monitor-all = "python trainer/monitor_runs.py --all-runs"
